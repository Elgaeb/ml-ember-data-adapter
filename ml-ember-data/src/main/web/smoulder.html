<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Smoulder Testing</title>

        <script type="text/javascript" src="lib/jquery-2.1.3.js"></script>
        <script type="text/javascript" src="lib/bootstrap-3.3.2/js/bootstrap.js"></script>

        <script type="text/javascript" src="lib/handlebars-v2.0.0.js"></script>
        <script type="text/javascript" src="lib/ember-1.9.1.js"></script>
        <script type="text/javascript" src="lib/ember-data-v1.0.0-beta.14.1.js"></script>


        <link rel="stylesheet" href="lib/normalize-3.0.2.css"/>
        <link rel="stylesheet" href="lib/bootstrap-3.3.2/css/bootstrap.css"/>
        <link rel="stylesheet" href="lib/bootstrap-3.3.2/css/bootstrap-theme.css"/>
        <link rel="stylesheet" href="smoulder.css"/>
    </head>

    <body>
    <script type="text/x-handlebars" data-template-name="application">
        <nav class="navbar navbar-default navbar-fixed-top">
          <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">Smoulder</a>
            </div>
          </div>
        </nav>

        <div class="container">
            {{outlet}}
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="persons">

        <h2>Current People</h2>

        <table class="table table-striped">

            <thead>
                <td>ID</td>
                <td>Name</td>
                <td>Age</td>
                <td></td>
            </thead>

            <tbody>
                {{#each person in model itemController="personEdit"}}
                    <tr>
                        <td>{{#link-to 'person.edit' person}}{{person.id}}{{/link-to}}</td>
                        <td>{{#link-to 'person.edit' person}}{{person.name}}{{/link-to}}</td>
                        <td>{{person.age}}</td>
                        <td><a href="#" {{action deletePerson}}>delete</a></td>
                    </tr>
                {{/each}}
            </tbody>

        </table>

        <button {{action createNewPerson}}>New Person</button>
    </script>

    <script type="text/x-handlebars" data-template-name="person/edit">

        <ol class="breadcrumb">
            <li>{{#link-to 'persons'}}People{{/link-to}}</li>
            <li class="active">{{name}}</li>
        </ol>

        <form class="form-horizontal">
            <div class="form-group">
                <label for="editPerson-name" class="col-sm-2 control-label">Name</label>
                <div class="col-sm-10">
                    {{input
                        type="text"
                        id="editPerson-name"
                        placeholder="Name"
                        value=model.name
                    }}
                </div>
            </div>
            <div class="form-group">
                <label for="editPerson-age" class="col-sm-2 control-label">Age</label>
                <div class="col-sm-10">
                    {{input
                        type="number"
                        id="editPerson-age"
                        placeholder="Age"
                        value=model.age
                    }}
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button class="btn btn-default" {{action 'save'}}>Save</button>
                </div>
            </div>
        </form>
    </script>

    <script type="text/x-handlebars" data-template-name="person/create">

        <ol class="breadcrumb">
            <li>{{#link-to 'persons'}}People{{/link-to}}</li>
            <li class="active">New Person</li>
        </ol>

        <form class="form-horizontal">
            <div class="form-group">
                <label for="newPerson-name" class="col-sm-2 control-label">Name</label>
                <div class="col-sm-10">
                    {{input
                    type="text"
                    id="newPerson-name"
                    placeholder="Name"
                    value=name
                    }}
                </div>
            </div>
            <div class="form-group">
                <label for="newPerson-age" class="col-sm-2 control-label">Age</label>
                <div class="col-sm-10">
                    {{input
                    type="number"
                    id="newPerson-age"
                    placeholder="Age"
                    value=age
                    }}
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button class="btn btn-default" {{action save}}>Save</button>
                </div>
            </div>
        </form>
    </script>

    <script type="text/javascript" src="js/application.js"></script>
    <script type="text/javascript" src="js/router.js"></script>
    <script type="text/javascript" src="js/controllers/persons_controller.js"></script>
    <script type="text/javascript" src="js/models/person.js"></script>
    </body>

</html>